<!-- Views/Home/Index.cshtml -->
@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome to Custom Auth Server</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>

@if (User.Identity.IsAuthenticated)
{
    <div class="mt-4">
        <h3>Authentication Information</h3>
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">User Details</h5>
                <p><strong>Username:</strong> @User.Identity.Name</p>
                <p><strong>Roles:</strong> @string.Join(", ", User.Claims.Where(c => c.Type == "role").Select(c => c.Value))</p>
                <p><strong>Permissions:</strong> @string.Join(", ", User.Claims.Where(c => c.Type == "permission").Select(c => c.Value))</p>
            </div>
        </div>
        
        <div class="mt-3">
            <h4>Available Endpoints</h4>
            <ul class="list-group">
                <li class="list-group-item">
                    <strong>Authorization Endpoint:</strong> 
                    <code>/oauth/authorize</code>
                </li>
                <li class="list-group-item">
                    <strong>Token Endpoint:</strong> 
                    <code>/oauth/token</code>
                </li>
                <li class="list-group-item">
                    <strong>User Info Endpoint:</strong> 
                    <code>/api/users/me</code>
                </li>
                <li class="list-group-item">
                    <strong>Revoke Token:</strong> 
                    <code>/oauth/revoke</code>
                </li>
            </ul>
        </div>
    </div>
}